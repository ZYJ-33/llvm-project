set(LLVM_LINK_COMPONENTS
        AllTargetsAsmParsers
        AllTargetsCodeGens
        AllTargetsDescs
        AllTargetsInfos
        Analysis
        AsmParser
        AsmPrinter
        BitWriter
        BitReader
        CodeGen
        Core
        IPO
        IRReader
        Linker
        MC
        MIRParser
        Remarks
        ScalarOpts
        SelectionDAG
        Support
        Target
        TransformUtils
        Vectorize
        Passes
        )

add_llvm_tool(xla-smi
        xla_smi.cpp
        DEPENDS
        intrinsics_gen
        SUPPORT_PLUGINS
        )

export_executable_symbols_for_plugins(xla-smi)
